@import
'../utils/glob',
'../theme/extends',
'../theme/vars';

.home {

  ~ .onboarding--sidebar,
  ~ .onboarding--sidebar ~ .onboarding--sidebar-unhide {
    display: none;
  }

  &.is-empty {

    ~  .emptystate--dashboard {
      left: 0;
      padding-left: 20rem;
    }
  }

  &.is-sidebar-minimized {

    ~ .onboarding--sidebar {
      transform: translateY(100%);
    }
  }

  &.has-onboarding-sidebar {

    ~ .onboarding--sidebar {
      display: block !important; // sass-lint:disable-line no-important

      + .onboarding--sidebar-unhide {
        display: block !important; // sass-lint:disable-line no-important
      }
    }

    &.is-right {

      ~ .onboarding--sidebar {
        right: 1.75rem;

        .image--left {
          background-blend-mode: luminosity;
        }

        + .onboarding--sidebar-unhide {
          right: 1.75em;
        }
      }

      ~ .emptystate--dashboard {
        padding-right: 50rem;
        padding-left: 8rem;
      }
    }

    &.is-left {

      ~ .onboarding--sidebar {
        left: 22rem;

        .image--right {
          background-blend-mode: luminosity;
        }

        + .onboarding--sidebar-unhide {
          left: 22rem;
        }
      }

      ~ .emptystate--dashboard {
        padding-left: 0;
      }
    }
  }
}

.onboarding--sidebar {
  bottom: 0;
  margin-top: 0;
  padding: 0;
  position: fixed;
  transition: transform .25s ease-in-out;
  width: 20rem;
  z-index: 4;

  &-heading {
    padding: 1rem;
  }

  .save-spinner {
    @include layout(auto, 50%, 0);
    top: 32pt;

    &:not(.is-hidden) + .onboarding--sidebar-options {
      opacity: .3;
    }
  }

  .onboarding--sidebar-settings_wrap {

    .onboarding--sidebar-tab {
      @include layout(auto, 1rem);
      background-image: linear-gradient(0deg, atl($black, .05) 0%, $white 100%);
      border: thin solid atl($black, .15);
      border-radius: $radius;
      height: 20pt;
      line-height: 20pt;
      width: 20pt;
      z-index: 2;

      i {

        &:before {
          color: atl($black, .4);
        }
      }
    }

    .onboarding--sidebar-settings {
      @include layout(auto, 1rem, 8.5pt);
      @extend %dropshadow;
      background-color: $white;
      border: thin solid atl($black, .25);
      border-radius: $radius;
      border-top-right-radius: 0;
      display: none;
      max-width: 80%;
      padding: 1rem;
      pointer-events: none;
      z-index: 1;
    }

    .image--right,
    .image--left {
      background: $white url('https://res.cloudinary.com/chopper/image/upload/Site%20Images/onboarding/sidebar/sidebar-orientation.png') center center no-repeat;
      background-size: cover;
      border: 2px solid atl($black, .1);
      border-radius: 4pt;
      display: block;
      height: 69px;
      width: 90px;
    }

    .image--left {
      transform: scaleX(-1);
    }

    &.is-active {

      .onboarding--sidebar-tab {
        background-color: $white;
        background-image: none;
        border-bottom: 0;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        color: get($color-theme, brand);
      }

      .onboarding--sidebar-settings {
        display: block;
        pointer-events: auto;
      }
    }
  }

  &-hide {
    background-color: atl($black, .25);
    height: 2.5rem;
    width: 100%;
  }

  &-unhide {
    background-color: get($color-theme, brand);
    border-top-left-radius: $radius;
    border-top-right-radius: $radius;
    bottom: 0;
    height: 2.5rem;
    position: fixed;
    width: 20rem;
    z-index: 3;
  }
}
